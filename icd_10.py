# -*- coding: utf-8 -*-
"""icd-10.ipynb

Automatically generated by Colaboratory.

Original file is located at
    https://colab.research.google.com/drive/1uOzAyxcGP0q6-Q579ktg92Xv6-7VzQFJ
"""

!git clone https://github.com/suamin/multilabel-classification-bert-icd10

!wget https://github.com/naver/biobert-pretrained/releases/download/v1.0-pubmed-pmc/biobert_v1.0_pubmed_pmc.tar.gz

!tar -xzf biobert_v1.0_pubmed_pmc.tar.gz

!pip install pytorch-pretrained-bert

!git clone https://github.com/yuzcccc/pytorch-pretrained-BERT

!pytorch_pretrained_bert convert_tf_checkpoint_to_pytorch \
    /content/biobert_v1.0_pubmed_pmc/biobert_model.ckpt \
    /content/biobert_v1.0_pubmed_pmc/bert_config.json \
    /content/biobert_v1.0_pubmed_pmc/pytorch_model.bin

!cp -r /content/multilabel-classification-bert-icd10/exps-data .

!CUDA_VISIBLE_DEVICES=0 python /content/multilabel-classification-bert-icd10/bert_multilabel_run_classifier.py \
    --data_dir /content/exps-data/data \
    --use_data en \
    --bert_model /content/biobert_v1.0_pubmed_pmc \
    --task_name clef \
    --output_dir /content/tmp/bert-exps-dir/output \
    --cache_dir /content/tmp/bert-exps-dir/cache \
    --max_seq_length 128 \
    --num_train_epochs 2.0 \
    --do_train \
    --do_eval \
    --train_batch_size 32

!python /content/multilabel-classification-bert-icd10/bert_multilabel_run_classifier.py \
    --data_dir /content/exps-data/data \
    --use_data en \
    --bert_model /content/tmp/bert-exps-dir/output \
    --task_name clef \
    --output_dir /content/tmp/bert-exps-dir/output \
    --cache_dir /content/tmp/bert-exps-dir/cache \
    --max_seq_length 128 \
    --do_eval



english_sample = ['Gen Knock down in Rotkehlchen<SECTION>The perception of the earth&#39;s magnetic field plays a key role in the navigation of migratory birds .<SENT>Nevertheless , until today it has not been possible to decipher the exact functioning of this meaning .<SENT>The magnetic sense is thus the least understood sense in the natural world .<SENT>The current state of research indicates that light - dependent processes are involved in compass orientation .<SENT>Cryptochromes are thought to be the primary sense molecules in the retinas of migratory birds , but evidence of this theory is still lacking .<SENT>The goal is to show clearly whether cryptochromes actually represent the magnetic compass receptors crucial for orientation .<SENT>The method of RNA interference ( RNAi ) is currently the only way to eliminate cryptochromes in the bird retina and thus provide proof of this theory .<SENT>In RNA interference , genes ( in our case cryptochrome genes ) in the respective cells ( in our case , sensory cells in the retina ) are switched off .<SENT>For this purpose , gene sequences are introduced into the cells with the aid of viruses .<SENT>In order to enable the elimination of cryptochrome proteins in migratory bird retroin in subsequent orientation experiments , a method should be established to introduce the RNAi - mediating nucleic acids in the avian retina .<SENT>When migratory birds use cryptochromes as magnetic field sensors , we expect to gain an understanding of why and how electrosmog affects the magnetic compass of migratory birds .<SECTION>The viruses used are non - pathogenic , so do not cause disease .<SENT>The microsurgical procedures and the associated measures of the trial create average levels of challenge to the animals .<SENT>During the experiment , the animals are completely anesthetized .<SENT>Our experience with chickens shows that the animals recover very quickly from the intervention very quickly and show no signs of impairment .<SENT>After a certain incubation period after introduction of the viruses , the animals are sacrificed and their retins are removed for analysis .<SECTION>Cryptochrome gene shutting down can only be established on migratory birds , as different species respond differently to virus - based RNAi , and one species can not be transferred to another .<SENT>The experiments must take place on the living animal , since the cells of the living retina are completely different from cells of a dead retina .<SENT>Dead cells are basically permeable because their membrane becomes porous .<SENT>Therefore , the results obtained on the dead animal would not be transferred to live animals .<SENT>In addition , the experimental conditions to be established on migratory birds in the intact organism must be tested , since the later orientation experiments on living animals must also take place .<SECTION>The establishment of RNAi in avian retina is a particular challenge .<SENT>Since we conclude absolutely new territory with this experimental project , it is very difficult to accurately predict the number of animals .<SENT>Since different methods and conditions have to be tested in order to find optimal conditions for further experiments on migratory birds , the number of 90 domestic chickens and 140 migrating birds seems appropriate .<SECTION>Injections into the eyeball are routinely performed on an outpatient basis under local anesthesia in the retina and vitreous body diseases of man .<SENT>The vitreous body and the retina are insensitive to pain .<SENT>Because the birds have to be kept completely calm and to avoid heavy stress , they are completely anesthetized .<SENT>To prevent pain in the eye after surgery , locally anesthetized eye drops are used .<SENT>The minimally invasive procedure does not cause lasting damage .<SENT>The birds remain in their social environment until the surgery and then return there .',
 'Selective Theranostics of tumors<SECTION>For medical imaging for the detection of tumors so far only nonspecific contrast agents are in use , the accumulation can be detected except in the tumor in normal healthy tissue , which in turn severely affects the accuracy of the applied methods .<SENT>Also for the treatment of tumors in the daily routine mostly systemic effective chemotherapeutic agents are in use , which are associated with great side effects on the entire organism .<SENT>With the current project drug complexes are to be developed , which selectively bind to the tumor cells , are only taken up by these cells and only release their chemotherapeutically effective content inside the cells .<SENT>In addition , the drug complexes also contain substances that serve as contrast agents for clinical imaging .<SENT>For example , a drug can be used to visualize the tumor as well as its metastases and combat them at the same time .<SENT>Since the active ingredients , due to the tumor specificity , accumulate specifically in the tumor , the total dose used in the patient can be considerably reduced .<SECTION>Exposure to the animals by pre - irradiation for implantation , implantation of tumor cells , anesthesia , the injection of theranostic agents and their action .<SENT>The animals are euthanized after completion of the experiment .<SENT>The imaging takes 5 - 20min .<SENT>under inhalation anesthesia and maintaining body heat and does not cause pain , is not invasive ; no strain from noise .<SENT>Severity levels : Pre - irradiation for implantation : max .<SENT>moderate ; Injection of tumor cells : low ; Tumor growth : max .<SENT>moderate ; Injection of contrast agent iv : low ; Imaging : low ; Effect of chemotherapeutic agents : max .<SENT>moderate ; Inhalation anesthesia : low .<SECTION>In the development of new drugs , in vitro binding and activity studies are performed before use in the experimental animal .<SENT>Only contrast agents that successfully pass extensive in vitro assays with free proteins and various cell lines are used in in vivo studies .<SENT>These in vivo studies are unavoidable because these drugs are additionally processed by mammalian organisms in a natural way .<SENT>Preliminary investigations are also essential for clinical applicability in vivo .<SECTION>The number of experimental animals is reduced to a minimum by the use of in vitro tests on proteins and cells ( see above ) .<SENT>Our vast experience in dealing with tumor models leads to a low failure rate in their production and application .<SENT>Also , the imaging methods have a low failure rate , and experimental animals can be repeatedly measured in the limited to the experimental procedures due to the low load over a longer period of time .<SENT>Counseling by biostatist should also help to identify the lowest number of animals sufficient to answer the above questions .<SECTION>The animals are kept before and during the experiments under species - appropriate conditions in a space designed for mouse keeping .<SENT>Number of animals per cage , food , cages and retreats meet the standards for good animal husbandry .<SENT>Our animals are constantly being examined by researchers , animal keepers and , in case of abnormalities , by veterinarians .<SENT>The termination criteria are defined before .<SENT>All painful interventions are done under anesthesia .<SENT>A gentle test procedure and ?<SENT>Where necessary - balanced anesthesia with well - coordinated painkillers under close veterinary control contribute to the effective protection of the animals and ensure the greatest possible freedom from pain .',
 'Validation of RPE screening substances<SECTION>Retinitis pigmentosa and age - related macular degeneration are diseases of the retina of the eye characterized , inter alia , by the death of photoreceptor cells and retinal pigment epithelial cells ( RPE cells ) .<SENT>RPE cells assume the important function in the visual process of absorbing the spent cell material of the light - sensory cells .<SENT>Loss of function in humans leads to the death of the light - sensory cells and to considerable limitations in the ability to see and ultimately to the blindness of the affected patients .<SENT>The human retina can not replace these sensory cells and there are no healing methods to this day .<SENT>In Germany alone are 30,000 ?<SENT>40,000 patients of retinitis pigmentosa and about 2 million patients are affected by age - related macular degeneration , resulting in excessive stress on patients and their relatives and high health care costs .<SENT>The development of new treatment strategies is therefore of paramount importance .<SENT>The identification of drugs that control the RPE uptake function represents a promising future new treatment concept for retinal diseases .<SENT>The purpose of the present study is to test substances in the animal model that showed a positive effect on the RPE uptake rate in a first cell culture drug screen ,<SECTION>The disease model strain used has a genetic change , which also leads in humans to impairment of the uptake function of the RPE cells and thus to the death of the photoreceptor cells .<SENT>The progressive blindness is , as in humans too , completely painless .<SENT>Mice , as nocturnal animals specialized in the sense of smell and hearing , are less affected by blindness than humans .<SENT>The planned injection of active ingredients into the eye , a technique that has been established in humans and animals for more than 10 years , is carried out in animals under general anesthesia and the animal is subsequently cared for in veterinary medicine .<SENT>At the conclusion of the experiment , the animal is killed without pain and examined the eye tissue .<SENT>Therefore , a slight burden on the animals is assumed .<SECTION>So far , no cell culture replacement model exists that adequately simulates the physiological tissue parameters that are important for retinal diseases , such as the structured structure of several cell layers .<SENT>In explant cultures , RPE cells and photoreceptor cells die rapidly .<SENT>Retinal organoids derived from pluripotent stem cells lack the RPE cell layer and co - cultures of retinal organoids and RPE cells have not yet been successfully established .<SENT>The use of clinical human samples is ruled out for reasons of extremely low availability and high patient variability .<SENT>Therefore , it is essential to test the active ingredients in the animal model in order to learn more about their effectiveness in living tissue and organism .<SECTION>A state - of - the - art biometric design was prepared on the basis of which the animal numbers necessary for the purpose of the experiment and the experimental parameters were determined .<SENT>Animals that are used to maintain breeding will subsequently be used for experiments as well .<SECTION>Eye injections are an established and safe technique for more than 10 years on the animal model and humans .<SENT>The procedure is performed minimally invasive and under general anesthesia by trained and experienced personnel .<SENT>The animals are kept in groups and supplied with bedding and nesting material .<SENT>If , in the course of the experiment , an animal suffers an infection or otherwise becomes ill , it will be killed prematurely without pain .<SENT>The mice used are , in addition to a rat model , the only animal model for the examined retinal disease .',
 'Improved tumor response with lower GvHD<SECTION>In 2015 , 8.8 million people worldwide died from cancer - related diseases and 14 million new cases were registered ( World Health Organization ) .<SENT>The transplantation of allogeneic hematopoietic stem cells ( allo - HSZ ) makes it possible to successfully treat a large number of malignant haematological diseases .<SENT>However , allo - HSCT is limited by the recognition and destruction of host tissue , which is referred to as donor - versus - recipient disease ( GvHD ) .<SENT>GvHD remains a major cause of morbidity and mortality due to allo - HSCT , making it difficult to treat a wide range of sequelae , such as autoimmune diseases or organ transplant rejection .<SENT>In this project , we would like to test the application of a blocking antibody against alpha4beta7 integrin , with the aim of inhibiting the migration of transferred T cells into the gut , thereby reducing the burden of GvHD and redirecting desired anti - tumor effects .<SENT>Tumor - specific T cells could be increased .<SENT>The results of the trials will provide the basis for meaningful and successful combination therapy and establish the most efficient methodology for clinical trials .<SECTION>In the context of breeding is to be expected only in isolated cases with low loads .<SENT>The breed is approved by the competent authority .<SENT>In the context of animal experiments , a moderate burden is assumed .<SENT>With an increasing load for the animals clear abort criteria apply .<SENT>In our use of Tumiorzellen metastases are possible , but they are injected into our model just under the skin , so to go from a local tumor spread and fewer side effects are to be expected than with other forms of administration .<SENT>At the end of the experiment , the blood , spleen , lymph nodes and tumors are removed and examined by molecular biological , cell biological and immunological methods .<SECTION>Since metastases are possible with intravenous administration of the tumor cell lines we use , we inject the tumor cells subcutaneously .<SENT>This virtually excludes metastases and associated increased suffering .<SECTION>By strictly using score sheets , the suffering is moderately limited .<SENT>The mouse numbers used are limited to the smallest , but meaningful measure .<SECTION>For the longitudinal observation of T cell migration and activation in vivo , we will use the bioluminescent reporter system developed in our group and therefore require significantly fewer animals .',
 'Therapy of neuroblastoma<SECTION>Neuroblastoma ( NB ) is a solid tumor of the peripheral sympathetic nervous system that primarily affects children .<SENT>Despite the low incidence of about 1 in 100,000 children under the age of 15 , NB represents the most commonly diagnosed tumor in the first year of life .<SENT>Clinically , NB variants with low and high risk exist for the affected patients .<SENT>While low - risk NB is associated with a good course , the prognosis for high - risk NB is poor and currently available drugs are often ineffective .<SENT>We were able to identify in our own work a new substance that kills aggressive NB cells in cell culture and which one new Point of attack within the cells exploits .<SENT>We now want to test this substance in the subcutaneous xenograft mouse model to determine how potent this therapeutic approach could be for the future healing of childhood patients with NB .<SECTION>The impairment of the animals due to the subcutaneous tumor growth on the back is classified as low .<SENT>The tumor does not grow as a short - term subcutaneous xenograft infiltrative and does not metastasize .<SENT>Performing the daily subcutaneous injections for about two weeks must be classified as low to moderate exercise .<SENT>At the end of the experiment , the animals are killed by cervical dislocation .<SECTION>-Here many extensive series of experiments have been carried out with cell cultures .<SENT>This approach does not provide any new insights into the clinical usefulness of our substance .<SENT>Organotypic cultures of neuroblastomas do not yet exist .<SENT>To determine the suitability of the substance identified by us , it is essential to document its anti - tumor activity in a living mammalian organism .<SECTION>String biometric / statistical calculation gives the essential minimum number of animals needed to measure the effect being studied .<SENT>The application is measured by this number .<SECTION>-Suffering from suffering : no long - term trial , but short - term trial of 2 - 3 weeks , only subcutaneous injections , regular control of the animals.-nude mice are used to prevent rejection of the graft .<SENT>- The use of mice is necessary because we want to document the effectiveness of the substance in a mammalian organism .<SENT>Therefore , we can not switch to another species ( eg invertebrates ) .',
 'Gene therapy right ventricle in PAH<SECTION>Pulmonary arterial hypertension ( PAH ) is a progressive and often fatal disease ; curative therapy is currently not possible .<SENT>The 5-year mortality is under treatment at about 50 % .<SENT>The increase in pulmonary vascular resistance causes a right ventricular pressure load with a systolic dysfunction , while the right ventricle ( RV ) reacts very sensitively to changes in pulmonary vascular resistance .<SENT>The pressure load of the RV leads to right ventricular remodeling and hypertrophy .<SENT>The study will now clarify for the first time whether sufficient right - cardiac DNA gene transfer in rats with pulmonary arterial hypertension ( PAH ) is possible and leads to a prolonged survival of small animals in PAH .<SECTION>In animals with the clinical picture of PAH an average exposure is expected , this disease phase lasts 2 - 4 weeks .<SENT>If the animals show a more severe disease , the experiment is terminated .<SENT>The induction of the clinical picture of PAH is classified as low stress .<SENT>Both non - invasive examinations such as sonography and cardiac catheterization are planned in general anesthesia , which is why a low load is expected here .<SENT>After the cardiac catheterization the trial is terminated<SECTION>1 ) Right heart failure develops over time .<SENT>In order to effectively assess a therapeutic approach , it is important to study the timing of therapeutic effects and perform functional examinations .<SENT>2 ) This is not possible in cell culture and therefore this study approach requires an animal model .<SECTION>The number of animals is limited to the level at which a statistically valid statement can be obtained after completion of the study .<SECTION>The environment in which the heart - deficient animals are housed is protected and meets the requirements of the animals .<SENT>You get appropriate feed , litter and nesting material .<SENT>They are also kept in groups .<SENT>The animals should be exposed to as little stress as possible .<SENT>If an infection or serious complication occurs , the animals are prematurely killed without pain .',
 'Pathways of acute childhood leukemia<SECTION>The basic question of how the most common cancer - acute lymphoblastic leukemia ( ALL ) - develops in childhood , has not yet been answered .<SENT>Thus , we lack the knowledge of whether and how this disease can be prevented .<SENT>Although genomic analyzes have identified a variety of different genetic alterations , it remains unclear which mechanisms at which level of maturation of blood formation trigger and drive leukemia events .<SENT>By identifying and influencing an as yet unrecognized genome stabilizing factor in animal experiments , we have the opportunity to imitate the leukemic process step by step at different levels of cell maturation .<SENT>Genetically induced leukemias in mice are studied and mutation targets and patterns determined .<SENT>From this it is attempted to derive underlying mutation processes , which are then used in analyzes of human ALL .<SENT>The experiments requested here are intended to contribute significantly to the developmental history of childhood acute leukemia and to the optimization of leukemia models , which mimic the mutation process as analogously as possible and allow a transferability to the human system .<SECTION>In this project , mouse lines generated by genetic manipulation are used and their cells are transplanted into recipient mice .<SENT>The damage that occurs includes stress from the development of leukemia , similar in humans ( organ disorders , weakness ) , as well as by radiation and gene induction ( flu - like symptoms ) .<SENT>Regular average loads are expected , but in some cases heavy loads can not be ruled out despite immediate termination .<SECTION>Primary acute lymphoblastic leukemias can not be cultured outside of an organism .<SENT>Cell lines derived from them are genetically too genetically modified to allow conclusions to be drawn about mutation developments .<SENT>The yolk sack culture in the chicken egg does not provide any prerequisites for maturation - level - dependent gene manipulation .<SENT>For immediate conclusions , a genetic proximity between model species and human is necessary .<SECTION>In the pilot project , all breeds are carefully planned and the genotypes are repeatedly tested for their experimental specificity .<SENT>Preliminary tests in cell culture are standard , among other things to determine usable cells .<SENT>Transplants only take place if there is a clear leukemic phenotype of the donor animals .<SENT>Statistical planning ensures that only as many animals are used as are necessary to be able to make a statistical statement about the results .<SECTION>Animals with undesired genotype are killed early and before the onset of incriminating signs .<SENT>The animals are carefully monitored , if necessary several times a day .<SENT>Transplants are carried out exclusively under anesthesia and with painkillers and antibiotic infection prophylaxis .<SENT>The triggering of primary leukemia is only possible in higher organisms with their own complex blood formation , therefore less developed animals are not suitable .',
 'Rad18 in embryonic and adult neurogenesis<SECTION>In the experimental study presented here , the influence of the E3 ligase Rad18 on embryonic and adult neurogenesis is investigated in the mouse model .<SENT>For this purpose , on one hand , mouse embryos are isolated on different days , and the brain structure is analyzed histologically .<SENT>On the other hand , neuronal stem cells are extracted from the embryonic brain and cultured to study their division and differentiation .<SENT>Finally , detailed studies on cell cycle entry and leakage of Rad18-deficient neuronal stem cells in embryonic and adult animals are performed .<SENT>The results of the experiments will show how replication stress , which may occur in the absence of Rad18 , affects the functionality of neuronal stem cells and will therefore be of great value to basic research .<SENT>A disturbance of neurogenesis by genetic changes in DNA repair genes or eg virus - induced or radiation - induced change in their function is a major cause of malformations of the cortex ( microcephaly , etc . )<SENT>and possibly later diminished intelligence or psychiatric disorders whose causes a prevalence of approximately 5 million cases per year in Europe urgently need more information .<SENT>In turn , adult neurogenesis counteracts mood disorders such as depression ( with a prevalence of approximately 30 million cases / year in Europe ) , and their better understanding may therefore be therapeutically valuable .<SECTION>Intraperitoneal injection ( by BRDU ) in the project are mildly painful interventions , but do not justify anesthesia , as anesthesia induction and maintenance are more burdensome .<SENT>Maternal dissection within the last third of gestation may put a slight strain on the embryos , but anesthesia would cause anesthesia represent greater burden .<SENT>The experimental animals are euthanized at the end of the experiment and used for tissue removal .<SENT>Given the scientific importance , we consider this burden to be ethical .<SECTION>We have already carried out studies on the role of Rad18 in cell culture , which form the basis for the experiments planned here in vivo , and can therefore build on this conceptually .<SENT>However , neurogenesis can only be adequately investigated in the in vivo model .<SECTION>Only as many animals are used for the project as is absolutely necessary for the achievement of statistically significant and reproduced scientific statements .<SECTION>The treatments of the animals as well as supervision in the experiment are carried out by experienced forces according to standardized procedures .<SENT>For the processed questions mouse models are required and established ; For fatter model systems , there is no preliminary work or comparative data .',
 'Signal transmission at the μ - opioid receptor<SECTION>The aim of this project proposal is to further characterize the effectors and physiological responses of arrestin - coupled signal transduction at the opioid receptor .<SENT>At present , great efforts are being made to produce both G - protein and arrestin - preferential receptor agonists .<SENT>So far , however , a purely pharmacological differentiation between G - protein and arrestin - coupled signal transmission at the opioid receptor is not possible .<SENT>We therefore propose a number of genetic approaches in this animal experiment to be able to specifically investigate this issue .<SECTION>There is a mildly stressful intervention with the intraperitoneal injection of tamoxifen and vor . Aine genetic bias of the animals is not present .<SENT>Some of the lines have been kept in the facility for years and are healthy and fertile .<SENT>The strains that result from the application of the opiates are to be regarded as minor .<SENT>After the cut into the skin , the Alzet mini pump implantation under isoflurane anesthesia , no pain is expected .<SENT>Also no pain is expected after chloral hydrate anesthesia for the transcardiac perfusion .<SENT>In the behavioral tests , for the detection of the sensitivity to pain , are resorted to those that are established in pain research and are also recognized by the ethics committees .<SECTION>In practice , the identification of new G - protein - preferring MOR agonists has some problems .<SENT>Of course , new ligands must be tested in at least two assays , the cAMP assay and the complementation assay .<SENT>Thus , it is often difficult to distinguish well - known partial agonists such as buprenorphine from new G - protein - preferring agonists .<SENT>Thus , it can be explained that similarly designed programs for the targeted development of G - protein - preferential MOR agonists produced substances with very different pharmacological profiles such as TRV130 and PZM21 .<SENT>We doubt whether the synthesis of ever new MOR agonists is sufficient for an exact characterization of the effectors and the physiological functions of the β - arrestin effect at the MOR .<SECTION>In order to allow a reliable statistical evaluation of the results , a total of 10 mice are necessary due to the expected biological variability in the response of the animals after injection of fentanyl and morphine in the model of pain perception , side effects and place preference .<SENT>For the organ removal of the animals after professional killing for the analysis of the organs a group size of 6 animals is sufficient .<SECTION>Painful interventions are not performed on the animals .<SENT>The application of the test substances represents only a slight burden on the mice .<SENT>At the end of the experiment , the animals are killed painlessly by an overdose of an inhalation anesthetic ( isoflurane ) and then decapitated to ensure death .<SENT>The complex pathophysiological processes that occur in acute and chronic pain in humans can only be replicated in another mammal in all its complexity .<SENT>The study of tolerance development at MOR would not be useful in other organisms .',
 'Electric parallax<SECTION>Spatial orientation required sufficiently accurate information about the environment .<SENT>A minimum requirement here is the estimation of distances , in order to allow sentient beings a situation - appropriate reaction .<SENT>This has hardly been studied in non - visual solar systems .<SENT>In the example of weakly electric fish , our experiments are to investigate the hypothesis that in active electrosensors a novel mechanism for distance perception , the so - called electric parallax , is used .<SENT>Active electrosensors are of particular interest here because , on the one hand , we know a great deal about cognitive performance in fish mediated by this sensory system , but at the same time understand the mechanisms for these services insufficiently .<SENT>Since findings from this system can be transferred relatively easily into technical systems , our experiments aim not only at fundamental biological knowledge gain , but also at the technical translation of principles recognized in the organism .<SECTION>The expected burden of the animals ( Gnathonemus petersii and Apteronotus albifrons ) is classified as low .<SENT>The burden is that the animals are kept isolated .<SENT>This isolation is compensated by the fact that the fish find an enriched aquarium in which they can interact with the experimenter or with reactive objects in the water depending on the experimental design .<SENT>For transporting the animals , suitable tanks with controlled temperature and optical / mechanical insulation are used .<SENT>After completion of the experiments , the animals are returned through a quarantine phase of group animal husbandry , where they remain .<SENT>On the advice of the Animal Welfare Officer , the animal welfare - friendly killing takes place independently of the aforementioned termination criteria .<SECTION>These are behavioral observations that can only be performed on naturally behaving animals .<SENT>Our experimental project aims at reviewing the hypotheses derived from biophysical models in our preliminary work .<SENT>Even if the hypotheses to be investigated are largely derived from theoretical models , the question of whether and to what extent the postulated mechanisms for distance measurement of electric fish are used can only be answered in behavioral experiments .<SECTION>The study relied on paired test procedures , reducing the number of animals used .<SENT>Due to the consistent modeling of the electric fields , no additional animal experiments ( measurements of the fields ) arise and our experiment thus only aims at the experimental verification of the theoretically developed hypotheses .<SENT>The necessary amount of animals was determined biometrically .<SECTION>In addition to the already mentioned isolation of the animals , which is facilitated by an enriched experimental aquarium , emphasis is placed in particular on the transport of the animals , that this situation is stress - reduced .<SENT>Thus , the fish swim independently in the transport basins to prevent abrasion of the sensitive mucous membranes , and are transported and kept constant temperature reduced vibrations . Thus , it is comparative experiments on basic mechanisms of active electrosensorics , and only spycharic fish this active form of electric sensors own , no other animals come into question .']

def get_prediction(english_sample,newly=True):
  import random

  k = random.sample(range(100000,200000), len(english_sample))
  import pickle
  #print(k)
  d = {j:i for i,j in enumerate(k)}

  with open('/content/exps-data/data/test_data.pkl','rb') as data:
    test_data = pickle.load(data)
  g1 = test_data[0][0][0]
  g2 = test_data[0][0][1]
  test_data_extended = [((g1,g2,english_sample[i]),k[i],None) for i in range(len(english_sample))]
  if newly:
    test_data = test_data_extended
  else:
    test_data.extend(test_data_extended)
  file_ = open('/content/exps-data/data/test_data.pkl','wb')
  pickle.dump(test_data,file_)
  file_.close()
  if newly:
    file_object = open('/content/exps-data/data/ids_test.txt', 'w')
    for i in range(len(k)-1):
      file_object.write(str(k[i])+'\n')
    file_object.write(str(k[i+1]))
  else:
    file_object = open('/content/exps-data/data/ids_test.txt', 'a')
    for i in k:
      file_object.write('\n'+str(i))

  file_object.close()
  import os
  os.system(
      "python /content/multilabel-classification-bert-icd10/bert_multilabel_run_classifier.py \
    --data_dir /content/exps-data/data \
    --use_data en \
    --bert_model /content/tmp/bert-exps-dir/output \
    --task_name clef \
    --output_dir /content/tmp/bert-exps-dir/output \
    --cache_dir /content/tmp/bert-exps-dir/cache \
    --max_seq_length 128 \
    --do_eval"
  )
  temp = []
  with open('/content/tmp/bert-exps-dir/output/preds_test.txt', 'rb') as t:
    #print(t.readlines())
    temp = t.readlines()
  d1 = {}
  for i in temp:
    d1[d[int(i.decode('UTF-8').split('\t')[0])]]=i.decode('UTF-8').split('\t')[1]
  return d1

get_prediction(english_sample)

